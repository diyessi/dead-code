       REM NY TFD 2  0146 CARDS   TAPE FILE DUPLICATOR                  NYTFD201
       ORG 0                                                            TFD20002
 TFD2  SXD SAVEA,1                X                                     TFD20003
       SXD SAVEB,2                X                                     TFD20004
 NFSK  PXD 0,0                    INITIALIZE RCCKS, FLCKS, AND          TFD20005
       STO RCCKS                  EOFS.                                 TFD20006
       STO FLCKS                  X                                     TFD20007
       STO EOFS                   X                                     TFD20008
       LDQ AD200                  PLACE 200,0,200 OCTAL INTO MQ.        TFD20009
       LRS 3                      FORM BIN INDICATOR IN MQ.             TFD20010
       CLA 1,4                    FORM TAPE ADDRESSES.                  TFD20011
       ADD AD200                  X                                     TFD20012
       STA TPRD                   X                                     TFD20013
       ARS 15                     X                                     TFD20014
       LBT                        X                                     TFD20015
 SAVEA TXL NBIN,0,0               X                                     TFD20016
       STQ X                      X                                     TFD20017
 NBIN  ARS 3                      X                                     TFD20018
       ADD X                      X                                     TFD20019
       STA WRS1                   X                                     TFD20020
       STA WRS2                   X                                     TFD20021
       STA BST3                   X                                     TFD20022
       STA WEF                    X                                     TFD20023
       CLA TPRD                   X                                     TFD20024
       ADD X                      X                                     TFD20025
       STA RDS1                   X                                     TFD20026
       STA RDS2                   X                                     TFD20027
       STA BST1                   X                                     TFD20028
       STA BST2                   X                                     TFD20029
       CLA 2,4                    X                                     TFD20030
       STA NFSK                   NO. OF FILES SKIPPED.                 TFD20031
       ARS 15                     X                                     TFD20032
       LDQ LEN                    X                                     TFD20033
       LBT                        TEST FOR FILE CKS BIT.                TFD20034
 SAVEB TXL NFCKS,0,0              X                                     TFD20035
       STQ FLCKS                  STORE FILE CKS INDICATOR.             TFD20036
 NFCKS ARS 3                      X                                     TFD20037
       LBT                        TEST FOR RECORD CKS BIT.              TFD20038
 NFIL  TXL NRCKS,0,0              X                                     TFD20039
       STQ RCCKS                  STORE RECORD CKS INDICATOR.           TFD20040
 NRCKS CLA 3,4                    INITIALIZE FWA.                       TFD20041
       STA CPY1                   X                                     TFD20042
       STA CPY2                   X                                     TFD20043
       STA CLA2                   X                                     TFD20044
       SUB L1                     INITIALIZE FWA-1.                     TFD20045
       STA ACL1                   X                                     TFD20046
       STA STO1                   X                                     TFD20047
       STA STO2                   X                                     TFD20048
       STA CCKS                   X                                     TFD20049
       STA CLA1                   X                                     TFD20050
       STD NFIL                   NO OF FILES.                          TFD20051
       LXA NFSK,1                 PREPARE TO SKIP FILES.                TFD20052
       TXL START,1,0              IF NO FILES TRANSFER TO START.        TFD20053
 RDS1  RDS 0                      SKIP FILES.                           TFD20054
       CPY X                      X                                     TFD20055
 L2A   TXL RDS1,0,0               X                                     TFD20056
       TIX RDS1,1,1               X                                     TFD20057
 START PXD 0,0                    START. INITIALIZE CKSB,               TFD20058
       STO CKSB                   FWA-1, L2A, AND L2B.                  TFD20059
 STO2  STO 0                      X                                     TFD20060
       CLA L2D                    X                                     TFD20061
       STD L2A                    X                                     TFD20062
       STD L2B                    X                                     TFD20063
 RDS2  RDS 0                      PREPARE TO READ TAPE.                 TFD20064
       PXD 0,0                    X                                     TFD20065
       PAX 0,1                    X                                     TFD20066
 CPY1  CPY 0,1                    READ TAPE.                            TFD20067
 L2B   TXL CCKS,0,0               NORMAL RETURN.                        TFD20068
 L2D   TXL EOF,0,2                EOF RETURN.                           TFD20069
       TRA EOR                    EOR RETURN.                           TFD20070
 CCKS  ACL 0,1                    COMPUTE CKS.                          TFD20071
       TXI CPY1,1,-1              X                                     TFD20072
 EOR   SLW CKSA                   STORE CKS.                            TFD20073
 ACL1  ACL 0,1                    PARTIAL FILE CKS.                     TFD20074
       SLW CKSC                   X                                     TFD20075
       RQL 255                    X                                     TFD20076
       RTT                        X                                     TFD20077
       TRA ON                     RTT TRIGGER ON.                       TFD20078
       CLA RCCKS                  TEST FOR RECORD CKS INDICATOR.        TFD20079
       TPL CFLCK                  IF NONE TRANSFER.                     TFD20080
 CLA1  CLA 0,1                    CHECK RECORD CKS.                     TFD20081
       SUB CKSA                   X                                     TFD20082
       TZE WRS1                   IF GOOD TRANSFER TO WRITE             TFD20083
       LXD L2A,2                  SEQUENCE. IF BAD PREPARE              TFD20084
       TNX NBS,2,1                TO REREAD RECORD.                     TFD20085
       SXD L2A,2                  X                                     TFD20086
 BST1  BST 0                      X                                     TFD20087
       TRA RDS2                   X                                     TFD20088
 NBS   PXD 0,0                    IF BAD TWICE RETURN TO                TFD20089
       TRA 4,4                    A+4 WITH ZERO IN AC.                  TFD20090
 CFLCK CAL CKSB                   COMPUTE FILE CKS.                     TFD20091
       SLW CKSD                   X                                     TFD20092
       ACL CKSC                   X                                     TFD20093
       SLW CKSB                   X                                     TFD20094
 WRS1  WRS 0                      SELECT WRITE TAPE.                    TFD20095
       SXD NEXT,1                 X                                     TFD20096
       PXD 0,0                    X                                     TFD20097
       PAX 0,1                    X                                     TFD20098
 CPY2  CPY 0,1                    WRITE RECORD.                         TFD20099
       TXI NEXT,1,-1              X                                     TFD20100
 NEXT  TXH CPY2,1,0               X                                     TFD20101
       TRA START+3                READY TO READ NEXT RECORD.            TFD20102
 EOF   CLA FLCKS                  EOF. CHECK FOR FILE CKS               TFD20103
       TPL WEF                    INDICATOR. IF NONE TRANSFER.          TFD20104
 CLA2  CLA 0                      TEST FILE CKS.                        TFD20105
       SUB CKSD                   X                                     TFD20106
       TZE WEF                    IF GOOD TRANSFER.                     TFD20107
       PXD 0,0                    IF BAD RETURN TO A+4                  TFD20108
       SSM                        WITH MINUS ZERO IN AC.                TFD20109
       TRA 4,4                    X                                     TFD20110
 WEF   WEF 0                      WRITE END OF FILE.                    TFD20111
       LXD NFIL,2                 PREPARE TO READ NEXT FILE.            TFD20112
       TNX OUT,2,1                X                                     TFD20113
       SXD NFIL,2                 X                                     TFD20114
       TRA START                  READY TO READ NEXT FILE.              TFD20115
 ON    LXD L2B,2                  IF TAPE CHECK IS ON                   TFD20116
       TNX NBSRT,2,1              PREPARE TO REREAD RECORD.             TFD20117
       SXD L2B,2                  X                                     TFD20118
 BST2  BST 0                      X                                     TFD20119
       TRA RDS2                   READY TO REREAD RECORD.               TFD20120
 NBSRT CLA LEN                    IF RTT TWICE RETURN TO                TFD20121
       TRA 4,4                    A+4 WITH THE AC ALL ONES.             TFD20122
 OUT   LXD SAVEA,1                PREPARE TO EXIT TO                    TFD20123
       LXD SAVEB,2                NORMAL RETURN.                        TFD20124
       TRA 5,4                    EXIT.                                 TFD20125
 ACKSA CLA CKSA                   IF INCORRECT RECORD CKS               TFD20126
 STO1  STO 0,1                    USE CORRECT ONE.                      TFD20127
       TRA NBS+2                  X                                     TFD20128
 BST3  BST 0                      IF INCORRECT FILE CKS                 TFD20129
 WRS2  WRS 0                      USE CORRECT ONE.                      TFD20130
       CPY CKSD                   X                                     TFD20131
       TRA WEF                    X                                     TFD20132
 RTT   TRA CFLCK                  IGNORE RTT AND GO ON.                 TFD20133
 X                                                                      TFD20134
 CKSA                                                                   TFD20135
 CKSB                                                                   TFD20136
 CKSC                                                                   TFD20137
 CKSD                                                                   TFD20138
 EOFS                                                                   TFD20139
 RCCKS                                                                  TFD20140
 FLCKS                                                                  TFD20141
 TPRD                                                                   TFD20142
 L1        1                                                            TFD20143
 AD200     128,0,128                                                    TFD20144
 LEN   OCT 777777777777                                                 TFD20145
       END 0                                                            TFD20146
