       REM WB CTB2, ABSOLUTE BINARY CARDS TO TAPE, 334 CARDS            WBCTB201
       REM   REPLACE UA SAP 2 58 BY UA SAP 2 EH FOR ASSEMBLY            CTB20002
       ORG 00000                                                        CTB20003
 BEGIN LXA BEGIN,1      WB CTB2                                         CTB20004
       CPY BEGIN+2,1    BOOTSTRAP                                       CTB20005
       TXI BEGIN+1,1,-1 LOADER                                          CTB20006
       OCT 553710144702                                                 CTB20007
       RCD              READ NEXT CARD                                  CTB20008
       TXH BEGIN+1,1,-LAST+BEGIN+3   TEST FOR LAST CARD                 CTB20009
       LXA BEGIN+7,1                                                    CTB20010
       PXD LAST-BEGIN-3 COMPUTE                                         CTB20011
       ACL LAST+1,1     AND                                             CTB20012
TWOTSB TIX BEGIN+8,1,23 VERIFY                                          CTB20013
TESTWD LXA BEGIN+7,1    WB CTB2                                         CTB20014
 FLBL  ACL LAST+1,1     CHECK SUM                                       CTB20015
 ABWD  TIX FLBL,1,1     X                                               CTB20016
 TAB   SLW CKS          X                                               CTB20017
 AWORD CLA CKS          X                                               CTB20018
       SUB BEGIN+3      X                                               CTB20019
       TZE START        GO TO START                                     CTB20020
 9R    HTR 9R           WB CTB2 CHECKSUM DISCREPANCY                    CTB20021
 CKS                    TEMPORARY                                       CTB20022
 9L                     STORAGE                                         CTB20023
 READ  RCD              READ NEXT CARD                                  CTB20024
       PXD              AND SEPARATE                                    CTB20025
       CPY 9L           INFORMATION AND                                 CTB20026
       RQL 1            CORRECTION/                                     CTB20027
       LGL 1            TRANSFER CARDS                                  CTB20028
       TNZ RELOC        QUIT IF RELOC CARD                              CTB20029
       STQ CKS          X                                               CTB20030
       RQL 11           X                                               CTB20031
       LGL 5            X                                               CTB20032
       CPY 9R           X                                               CTB20033
       TZE CNTRL        GO TO PROCESS C/T CARD                          CTB20034
       PAX 0,1          PROCESS INFO CARD                               CTB20035
       ADD 9L           V + R                                           CTB20036
       SUB AWORD        SET CAD LOOP                                    CTB20037
       STA CAD          X                                               CTB20038
       TSX CHECK,4      CHECK AB LIMITS                                 CTB20039
       CAL 9L           X                                               CTB20040
 CAD   CAD 0,1          CAD LOOP                                        CTB20041
       TIX CAD,1,1      X                                               CTB20042
       LDQ CKS          X                                               CTB20043
       SLW CKS          CLEAR P AND Q BITS                              CTB20044
       CLA 9R           VERIFICATION TESTS                              CTB20045
       TZE READ         SUPPRESS IF CKS IS 0                            CTB20046
       SUB CKS          REDUCE CKS                                      CTB20047
       TQP VER          TEST SUPPRESSOR BIT                             CTB20048
       TXL READ         SUPPRESS VERIFICATION                           CTB20049
 VER   TZE READ         TEST REDUCTION                                  CTB20050
 ERROR HTR READ         INFO CARD CKS ERROR                             CTB20051
 CASCT RQL 19           PROCESS C/T CARD                                CTB20052
       LLS 15           X                                               CTB20053
       TPL NCASC        TEST CASCADED CORR                              CTB20054
       TXI SUPPT,1,1    YES,INCR IR1                                    CTB20055
 NCASC SUB AWORD        NO,SET NEW ORIGIN                               CTB20056
       STO STOR         X                                               CTB20057
       ADD AWORD        RESTORE AC                                      CTB20058
       LXD RELOC,1      RESET IR1                                       CTB20059
       TNZ SUPPT        TEST 0 ORIGIN                                   CTB20060
       CAL NR           YES,TEST BLANK ROW                              CTB20061
       TZE CNTRL        YES,GO TO NEXT ROW                              CTB20062
 SUPPT LLS 3            TEST FOR STORAGE                                CTB20063
       LDQ NR           SUPPRESSION                                     CTB20064
       LBT              SKIP TO SUPPRESS                                CTB20065
       TRA C19          STORE CORR                                      CTB20066
       PXD              CLEAR AC                                        CTB20067
 CNTRL CPY NL           COPY NEXT ROW                                   CTB20068
       CPY NR           X                                               CTB20069
       TRA RELT         TRA OVER TR ANALYSIS                            CTB20070
       CLA CKS          TEST FOR                                        CTB20071
       ALS 19           TRANSFER                                        CTB20072
       ARS 21           X                                               CTB20073
       TZE READ         NO,ZERO                                         CTB20074
       TMI READ         NO,SUPPRESSOR BIT                               CTB20075
       STA TRANS        YES,SET                                         CTB20076
       TRA STAPE        TRANSFER                                        CTB20077
 RELT  LDQ NL           TEST FOR RELOC                                  CTB20078
       RQL 1            CORR                                            CTB20079
       TQP CASCT        NO,PROCEED                                      CTB20080
 RELOC HTR RELOC        YES,QUIT                                        CTB20081
 NL    SYN 9L                                                           CTB20082
 NR    SYN 9R                                                           CTB20083
 CHECK PAX 0,2          N-A+W+C=IR2                                     CTB20084
       TMI STOP2                                                        CTB20085
       PXD 0,1          C=DECR                                          CTB20086
       COM              -C-1=DECR                                       CTB20087
       STD C17          X                                               CTB20088
 C16   TXH STOP1,2,B-A+N+1  IS W+C GR B+1                               CTB20089
 C17   TXI C18,2        N-A+W-1=IR2                                     CTB20090
 C18   TXL STOP2,2,N-2  IS W SM A                                       CTB20091
       TRA 1,4          X                                               CTB20092
 C19   CLA STOR                                                         CTB20093
       TXL PATCH,1      TEST CASCADED CORR                              CTB20094
       ADD ONE          YES, INCR W                                     CTB20095
       STO STOR         X                                               CTB20096
       LXD RELOC,1      RESET IR1                                       CTB20097
 PATCH STA STOR-2       X                                               CTB20098
       TXI PATCH+2,1,1  X                                               CTB20099
       ADD ONE          X                                               CTB20100
       TSX CHECK,4      X                                               CTB20101
       STQ              STORE CORRECTION                                CTB20102
       TRA CNTRL-1      X                                               CTB20103
 STOR                                                                   CTB20104
 STOP1 HTR STOP1        STORAGE LOCATION GREATER THAN B                 CTB20105
 STOP2 HTR STOP2        STORAGE LOCATION LESS THAN A                    CTB20106
 STOP3 HTR STOP3        9L1 NOT PUNCHED ON A CONTROL CARD               CTB20107
 STOP5 HTR STOP5        TWO WB TSB2 RECORDS STORED CONSECUTIVELY        CTB20108
COMPTW OCT 177777777777                                                 CTB20109
 START CPY TESTWD       STORE CONTENTS OF FIRST CONTROL CARD            CTB20110
       LGL 1            X                                               CTB20111
       RTT              TURN OFF RTT                                    CTB20112
   C22 NOP 3            X                                               CTB20113
       TQP STOP3        IF 9L1 WAS PUNCHED, GO ON                       CTB20114
       LBT              IF 9LS WAS PUNCHED, DO NOT REWIND TAPE 1        CTB20115
       REW 1            X                                               CTB20116
       LGL 2            X                                               CTB20117
       LBT              IF 9L2 WAS PUNCHED, DO NOT STORE WB TSB2        CTB20118
       TSX TSBREC,4     X                                               CTB20119
       CLA INITFR       STORE ONES IN                                   CTB20120
       STO FLBL         FILE AND RECORD NUMBERS                         CTB20121
  ABRD PXD              ZERO INTO AC                                    CTB20122
       RCD              READ NEXT CONTROL CARD                          CTB20123
       CPY ABWD         STORE CONTROL WORD                              CTB20124
       RQL 1            X                                               CTB20125
       LXA BP1MA,4      PREVIOUS B+1-A INTO IR4                         CTB20126
       TQP STOP3        IF 9L1 WAS PUNCHED, GO ON                       CTB20127
 CLEAR STO N+B-A+1,4    CLEAR                                           CTB20128
       TIX CLEAR,4,1    CORE                                            CTB20129
       CLA ABWD         TEST FOR                                        CTB20130
       TPL C20          WB TSB2 STORAGE                                 CTB20131
       TSX TSBREC,4     X                                               CTB20132
       TRA ABRD         X                                               CTB20133
 C20   ANA COMPTW       TEST FOR END CARD                               CTB20134
       TZE END          X                                               CTB20135
 BP1MA PAX B+1-A,4      B=IR4                                           CTB20136
       ADD ONE          B+1,0,A                                         CTB20137
       STO TAB          X                                               CTB20138
       STD C2           X                                               CTB20139
       LRS 18           A,0,0                                           CTB20140
       SUB N1           A-N,0,0                                         CTB20141
       STO AWORD        X                                               CTB20142
 C1    TXI C2,4,1       B+1=IR4                                         CTB20143
 C2    TIX C3,4,A       B+1-A=IR4                                       CTB20144
 STOP4 HTR STOP4        A IS LARGER THAN B                              CTB20145
 C3    SXD TAB,4        X                                               CTB20146
       CLA TAB          X                                               CTB20147
       LRS 18           X                                               CTB20148
       STA BP1MA        B+1-A,0,0                                       CTB20149
       ADD N1           N+B+1-A,0,0                                     CTB20150
       STA CLEAR        X                                               CTB20151
       STA WRITE        X                                               CTB20152
 C4    PAX 0,4          B-A+N+1=IR4                                     CTB20153
       SXD C16,4        X                                               CTB20154
       TRA READ         X                                               CTB20155
 N1    PZE LAST+1       N=LAST+1                                        CTB20156
 STAPE LXA C22,2        TRY THREE TIMES                                 CTB20157
       WTB 1            TO WRITE TAPE 1                                 CTB20158
       LXA BP1MA,4      B+1-A=IR4                                       CTB20159
       CPY FLBL         STORE WORD 1                                    CTB20160
       CAL FLBL         X                                               CTB20161
       COM              X                                               CTB20162
       SLW ABWD         X                                               CTB20163
       CPY ABWD         STORE WORD 2                                    CTB20164
       CPY TAB          STORE WORD 3                                    CTB20165
       CAL TAB          X                                               CTB20166
       COM              X                                               CTB20167
       SLW ABWD         X                                               CTB20168
       PXD              CLEAR AC FOR CHECKSUM                           CTB20169
       CPY ABWD         STORE WORD 4                                    CTB20170
 WRITE CAD N+B-A+1,4    STORE                                           CTB20171
       TIX WRITE,4,1    LOGICAL RECORD                                  CTB20172
       CAD TRANS        STORE TRANS                                     CTB20173
       SLW ABWD         X                                               CTB20174
       CPY ABWD         STORE CHECKSUM                                  CTB20175
       LXA BP1MA,1      IR1=NO OF WORDS                                 CTB20176
 C29   TXI C29+1,1,5    PRECEDING CHECKSUM                              CTB20177
       TSX VERIFY,4     TEST RTT AND CHECKSUM                           CTB20178
       TRA C21          ERROR                                           CTB20179
       SLW TWOTSB       RESET CONSECUTIVE WB TSB2 RECORDS WORD          CTB20180
       CLA FLBL         INCREASE                                        CTB20181
       ADD ONE          RECORD                                          CTB20182
       STO FLBL         NUMBER                                          CTB20183
       TRA ABRD         DO NEXT DECK                                    CTB20184
 C21   BST 1            TRY                                             CTB20185
       TIX STAPE+1,2,1  AGAIN                                           CTB20186
       HTR STAPE        TRY 3 MORE                                      CTB20187
 TRANS TRA                                                              CTB20188
 ONE   PZE 1                                                            CTB20189
TSBREC SXD 9L,4         SAVE IR4                                        CTB20190
       CLA TWOTSB       TEST FOR DOUBLE STORAGE                         CTB20191
       TMI STOP5        OF WB TSB2                                      CTB20192
       SSM              X                                               CTB20193
       STO TWOTSB       X                                               CTB20194
       LXA C22,2        TRY 3 TIMES                                     CTB20195
       LXA N2,1         STORE                                           CTB20196
       WTB 1            WB TSB2                                         CTB20197
       PXD              CLEAR AC FOR CHECKSUM                           CTB20198
 C23   CAD LAST+1,1     X                                               CTB20199
       TIX C23,1,1      X                                               CTB20200
       SLW ABWD         X                                               CTB20201
       CPY ABWD         STORE CHECKSUM                                  CTB20202
       LXA N2,1         IR1 =NO OF WORDS PRECEDING CHECKSUM             CTB20203
       TSX VERIFY,4     TEST RTT AND CHECKSUM                           CTB20204
       TRA C24          ERROR                                           CTB20205
       LXD 9L,4         IT WAS OFF                                      CTB20206
       TRA 1,4          X                                               CTB20207
 C24   BST 1            TRY                                             CTB20208
       TIX TSBREC+6,2,1 AGAIN                                           CTB20209
       HTR TSBREC+5     TRY 3 MORE                                      CTB20210
VERIFY BST 1            READ RECORD                                     CTB20211
       RTB 1            JUST WRITTEN                                    CTB20212
       PXD              CLEAR AC FOR CHECKSUM                           CTB20213
 DUMP  CAD ABWD         FORM                                            CTB20214
       TIX DUMP,1,1     CHECKSUM                                        CTB20215
       TXL C25,1,1      X                                               CTB20216
       TRA 1,4          FALSE EOR OR EOF                                CTB20217
 C25   COM              X                                               CTB20218
       CAD ABWD         ACL STORED CHECKSUM                             CTB20219
       COM              AC SHOULD                                       CTB20220
       TZE RTT          BE ZERO                                         CTB20221
       TRA 1,4          CHECKSUM DISCREPANCY                            CTB20222
 RTT   ARS 255          DELAY OF 324 MICROSECONDS                       CTB20223
       RTT              TEST TAPE CHECK INDICATOR                       CTB20224
       TRA 1,4          ON                                              CTB20225
       TRA 2,4          OFF                                             CTB20226
 N2    PZE LAST-TSB+1                                                   CTB20227
INITFR PZE 1,0,1        RECORD, 0, FILE                                 CTB20228
 END   WEF 1            STORE EOF                                       CTB20229
       CLA TESTWD       TEST FOR                                        CTB20230
       TMI C30          REWIND OF                                       CTB20231
       REW 1            TAPE 1                                          CTB20232
 C30   HTR C30          END OF PROGRAM                                  CTB20233
       REM WB TSB2, 704 ABSOLUTE BINARY TAPE LOADER, LOADS RECORDS      CTB20234
       REM OF WB FORMAT 2.                                              CTB20235
  LOAD EQU 00000                                                        CTB20236
     K EQU 1               WB TSB2 LOADS FROM TAPE K.  TO LOAD A RECORD CTB20237
       REM                    NOT ON TAPE K, MODIFY LOAD+31 AND LOAD+61.CTB20238
   TSB TSX LOAD+1,4        WB TSB2 BOOTSTRAP LOADER, INITIATED BY LOAD  CTB20239
       CPY 2,4               TAPE WHEN LOAD IS ZERO AND K IS ONE, OTHER-CTB20240
       TXI LOAD+1,4,-1       WISE BY LOAD TAPE SEQUENCE TO LOAD.        CTB20241
       HTR LOAD+3        ----FALSE EOF - NO RESTART PROVIDED.           CTB20242
       TXL LOAD+7,4,-LAST-LOAD+TSB                                      CTB20243
       REM                 STOP IF ALL PHYSICAL RECORD IS NOT LOADED.   CTB20244
       BST K                 RETURN TAPE TO BEGINNING OF TSB2 RECORD.   CTB20245
       HTR LOAD+6        ----LOADING ERROR - COMPLETE RECORD NOT STORED CTB20246
       REM                   IF IR4 EXCEEDS DEC. OF TSB+4 - OTHERWISE   CTB20247
       REM                   CHECKSUM ERROR IF AC NON-ZERO, DISCREPANCY CTB20248
       REM                   BITS IN AC - OR TAPE CHECK FAILURE IF AC ISCTB20249
       REM                   ZERO.  IF LOAD IS ZERO AND K IS ONE, PRESS CTB20250
       REM                   LOAD TAPE TO TRY AGAIN.                    CTB20251
       LXA LOAD+30,4       LENGTH OF WB TSB2 INTO IR4.                  CTB20252
       CAL LAST+LOAD-TSB+1   WB TSB2 CHECKSUM INTO AC.                  CTB20253
       COM                                                              CTB20254
       ACL LAST+LOAD-TSB+1,4                                            CTB20255
       REM                 COMPUTE ACL SUM OF WB TSB2 WITH ITS          CTB20256
       TIX LOAD+10,4,1       COMPLEMENT INITIALLY IN AC.                CTB20257
       COM                   CORRECT LOADING YEILDS 38 PLACE ZERO.      CTB20258
       TNZ LOAD+5            INCORRECT CHECKSUM - BACKSPACE AND STOP.   CTB20259
       TSX LOAD+20,4         TEST TAPE CHECK.                           CTB20260
       TRA LOAD+5            TAPE CHECK FAILURE - BACKSPACE AND STOP.   CTB20261
       TSX LOAD+20,4     ****UA CSB1 REENTRANCE - TURN OFF TAPE CHECK   CTB20262
       NOP 3                                                            CTB20263
       TRA LOAD+29                                                      CTB20264
       TRA LOAD+16       ****PK CSB  REENTRANCE.                        CTB20265
       ARS 255               DELAY FOR TAPE CHECK, SET Q,P,1-35 TO ZERO.CTB20266
       RTT                   MIN DELAY IS 324 MICRO-SEC.                CTB20267
       REM                   IMMEDIATELY FOLLOWS UA CSB1 REENTRANCE.    CTB20268
       TRA 1,4               TAPE CHECK ON.                             CTB20269
       TRA 2,4               TAPE CHECK OFF.                            CTB20270
       COM                 YIELDS 38 PLACE ZERO WHEN COMPUTED CHECKSUM  CTB20271
       REM                   COMPLEMENT AND CHECKSUM, AS READ, ARE      CTB20272
       REM                   COMPLEMENTARY.                             CTB20273
       TNZ LOAD+61         TRY AGAIN WHEN CHECKSUM FAILS TO VERIFY.     CTB20274
       TSX LOAD+20,4         TEST TAPE CHECK INDICATOR.                 CTB20275
       TRA LOAD+61         TRY AGAIN WHEN TAPE CHECK FAILS.             CTB20276
       MZE 0             ****EXIT TRANSFER EXECUTED HERE.               CTB20277
       LXA LOAD+17,2         3 INTO IR2 TO TRY THRICE TO LOAD.          CTB20278
       PXD LAST-TSB+1        ZERO INTO AC.                              CTB20279
       RTB K                 RECORD TO BE LOADED IS ON TAPE K.          CTB20280
       LXA LOAD+23,4         2 INTO IR4 FOR PREFIX LOOP.                CTB20281
       COM                   ONES INTO Q,P,1-35.                        CTB20282
       CAD WORD4,4           COPY WORD 1 OR WORD 3.                     CTB20283
       TRA LOAD+38           AVOID EOF AND EOR JUMPS.                   CTB20284
       HTR LOAD+16       ----EOF -PRESS START TO READ NEXT RECORD.      CTB20285
       TRA LOAD+61       ----FALSE EOR SO TRY AGAIN.                    CTB20286
       TXH LOAD+40,4,1       STORE ONLY ADDRESS OF WORD 3.              CTB20287
       STA LOAD+47           LAST LOCATION OF RECORD + 1 IN WORD 3 ADD. CTB20288
       CAD WORD4             FORM ACL SUM OF WORDS 1 AND 2, OR 3 AND 4. CTB20289
       COM                   YIELDS 38 PLACE ZERO WHEN CONSECUTIVE WORDSCTB20290
       TZE LOAD+44           ARE COMPLEMENTARY.                         CTB20291
       TRA LOAD+61       ----READ ERROR OR FALSE EOR SO TRY AGAIN.      CTB20292
       TIX LOAD+33,4,1       LOOP TO PICK UP WORDS 3 AND 4.             CTB20293
       TRA LOAD+64                                                      CTB20294
       LXD WORD3,4           LENGTH OF LOGICAL RECORD INTO IR4.         CTB20295
       CAD 0,4               STORE LOGICAL RECORD AND FORM ACL CHECKSUM.CTB20296
       TIX LOAD+47,4,1                                                  CTB20297
       TXL LOAD+51,4,1       GO ON IF COMPLETE LOGICAL RECORD STORED.   CTB20298
       TRA LOAD+61       ----FALSE EOR OR EOF SO TRY AGAIN.             CTB20299
       CAD LOAD+28         STORE EXIT TRANSFER.                         CTB20300
       TRA LOAD+55                                                      CTB20301
       TRA LOAD+61       ----FALSE EOF SO TRY AGAIN.                    CTB20302
       TRA LOAD+61       ----FALSE EOR SO TRY AGAIN.                    CTB20303
       COM                 AC BECOMES COMPLEMENT OF COMPUTED CHECKSUM.  CTB20304
       CAD WORD4             ADD CHECKSUM READ FROM TAPE.               CTB20305
       TRA LOAD+24                                                      CTB20306
       TRA LOAD+61       ----FALSE EOF SO TRY AGAIN.                    CTB20307
       TRA LOAD+61       ----FALSE EOR SO TRY AGAIN.                    CTB20308
       MZE LOAD+60           NOT USED                                   CTB20309
       BST K             ****TAPE PROBABLY IN POSITION AFTER TEST FAILEDCTB20310
       TIX LOAD+30,2,1       SO TRY AGAIN.                              CTB20311
       HTR LOAD+29       ----FAILED THRICE - PROBABLY TAPE CHECK FAILURECTB20312
       REM                   IF AC ZERO - PROBABLY CHECKSUM ERROR WITH  CTB20313
       REM                   DISCREPANCY BITS IN AC IF AC NON-ZERO AND  CTB20314
       REM                   IR4 IS 2 - PROBABLY SHORT RECORD IF IR4    CTB20315
       REM                   IS NOT 2.  PRESS START TO TRY THRICE AGAIN.CTB20316
       LXA WORD3,4         GO STORE LOGICAL RECORD                      CTB20317
       TXL LOAD+46,4,LOAD+13 IF B IS LESS THAN LOAD+13.                 CTB20318
       LXD WORD3,1         GO STORE LOGICAL RECORD                      CTB20319
       SXD LOAD+68,1         IF A IS GREATER THAN LOAD+70.              CTB20320
       TIX LOAD+69,4         X                                          CTB20321
       TXH LOAD+46,4,LOAD+70 X                                          CTB20322
 LAST  HTR LOAD+70         WB TSB2 REFUSES TO DESTROY ITSELF.           CTB20323
 WORD4 SYN LOAD+15         STORE FOR WORDS 2 AND 4, COMPLEMENTS OF      CTB20324
       REM                   WORDS 1 AND 3, ALSO FORMAT 2 CHECKSUM.     CTB20325
 WORD3 SYN WORD4-1         LENGTH OF LOGICAL RECORD IN DECREMENT, LAST  CTB20326
       REM                   LOCATION OF LOG. REC. IN STORAGE PLUS ONE  CTB20327
       REM                   IN ADDRESS.                                CTB20328
 WORD1 SYN WORD4-2         FILE NUMBER IN DECREMENT, RECORD NUMBER      CTB20329
       REM                   IN ADDRESS - USED HERE ONLY FOR FORMAT CK. CTB20330
 A     EQU LAST+1                                                       CTB20331
 B     EQU 32767                                                        CTB20332
 N     EQU LAST+1                                                       CTB20333
       END                                                              CTB20334
