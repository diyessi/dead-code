*  RL TS9                                                                TS90001
*    J L KOORY    SDC      8/15/58                                       TS90002
*  TAPE DUPLICATOR (STACKER) FOR THE 709                                 TS90003
*                                                                        TS90004
* ONE  FILE AT A TIME                                                    TS90005
*                                                                        TS90006
* CONTROL CARD IS BINARY                                                 TS90007
* 9L DECREMENT.. NO. OF FILES TO BE COPIED                               TS90008
* 9L ADRESS.. NO. OF FILES TO SKIP ON INPUT TAPE A5                      TS90009
* 9R ADRESS.. NO. OF FILES TO SKIP ON OUTPUT TAPE B5                     TS90010
* 9L SIGN.. PLUS FOR DECIMAL, MINUS FOR BINARY                           TS90011
       ORG     64                                                        TS90012
 START REWA    6                                                         TS90013
       REWB    6                                                         TS90014
       RCDA                        READ CONTROL CARD                     TS90015
       RCHA    RCD                                                       TS90016
       TCOA    *                                                         TS90017
       LXA     DATA,2              READ  TAPE  FILES TO SKIP             TS90018
       LXA     DATA+1,1              WRITE TAPE FILES TO SKIP            TS90019
 C     TXL     *+2,2,0                                                   TS90020
       TRA     SETA                                                      TS90021
 E     TXL     GO,1,0                ALL SKIPPED, GO TO GO               TS90022
 SETB  TCOB    E3                                                        TS90023
       TEFB    *+1                   SKIP                                TS90024
       CLA     DATA                  A                                   TS90025
       TMI     *+3                   FILE                                TS90026
       RTDB    6                                                         TS90027
       TRA     *+2                   WRITE                               TS90028
       RTBB    6                                                         TS90029
       RCHB    BB                                                        TS90030
       TXI     *+1,1,-1                                                  TS90031
 E3    TXL     E,2,0                                                     TS90032
 SETA  TCOA    E2                                                        TS90033
       TEFA    *+1                   SKIP                                TS90034
       CLA     DATA                  A                                   TS90035
       TMI     *+3                   FILE                                TS90036
       RTDA    6                                                         TS90037
       TRA     *+2                   READ                                TS90038
       RTBA    6                                                         TS90039
       RCHA    AA                                                        TS90040
       TXI     *+1,2,-1                                                  TS90041
 E2    TXL     C,1,0                                                     TS90042
       TRA     SETB                                                      TS90043
 GO    TCOA    *                                                         TS90044
       TCOB    *                                                         TS90045
       TEFA    *+1                   TURN                                TS90046
       TEFB    *+1                   OFF                                 TS90047
       TRCA    *+1                   LIGHTS                              TS90048
       TRCA    *+1                                                       TS90049
 BEG   CLA     DATA                                                      TS90050
       AXT     0,1                   9L PLUS, TAPES ARE                  TS90051
       TPL     *+2                   DECIMAL                             TS90052
       AXT     -1,1                  MINUS, TAPES ARE BINARY             TS90053
       AXT     3,2                   ERROR COUNT                         TS90054
       XEC     RT,1                  READ INTO .A.                       TS90055
       RCHA    XRA                                                       TS90056
 AB    TCOA    *                     WAIT                                TS90057
       TEFA    OUT                                                       TS90058
       TRCA    AC                    CHECK .A. READ                      TS90059
 AB2   SCHA    WORD                  PREPARE                             TS90060
       LXA     WORD,4                TO                                  TS90061
       TXI     *+1,4,-A              WRITE                               TS90062
       SXD     WRA,4                 *                                   TS90063
       XEC     WT,1                  WRITE FROM .A.                      TS90064
       RCHB    WRA                                                       TS90065
       AXT     3,2                   ERROR COUNT                         TS90066
       XEC     RT,1                  READ INTO .B.                       TS90067
       RCHA    XRB                                                       TS90068
 AD    TCOB    *                     STALL                               TS90069
       TRCB    WBC                   CHECK .B. READ                      TS90070
 AD2   AXT     3,2                   ERROR COUNT                         TS90071
 AE    TCOA    *                     DELAY                               TS90072
       TEFA    OUT                                                       TS90073
       TRCA    BC                  CHECK .A. WRITE                       TS90074
 AE2   SCHA    WORD                  PREPARE                             TS90075
       LXA     WORD,4                TO                                  TS90076
       TXI     *+1,4,-B              WRITE                               TS90077
       SXD     WRB,4                                                     TS90078
       XEC     WT,1                  WRITE FROM .B.                      TS90079
       RCHB    WRB                                                       TS90080
       XEC     RT,1                  READ INTO .A.                       TS90081
       RCHA    XRA                                                       TS90082
       AXT     3,2                   ERROR COUNT                         TS90083
 AF    TCOB    *                     HESITATE                            TS90084
       TRCB    WCC                   CHECK .B. WRITE                     TS90085
 AF2   AXT     3,2                   ERROR COUNT                         TS90086
       TRA     AB                                                        TS90087
 OUT   WEFB    6                                                         TS90088
       LXD     DATA,1                                                    TS90089
       TIX     *+2,1,1                                                   TS90090
       HTR     START+2               HIT START TO READ NEXT CONTROL CARD TS90091
       SXD     DATA,1                                                    TS90092
       TRA     BEG                   NOT DONE THIS CONTROL CARD          TS90093
 AC    TIX     AC+2,2,1                                                  TS90094
       HTR     AB2                   IGNORE RTT                          TS90095
       BSRA    6                                                         TS90096
       XEC     RT,1                  READ INTO .A.                       TS90097
       RCHA    XRA                                                       TS90098
       TRA     AB                                                        TS90099
 WBC   TIX     WBC+2,2,1                                                 TS90100
       HTR     AD2                   IGNORE RTT                          TS90101
       BSRB    6                                                         TS90102
       XEC     WT,1                  WRITE FROM .A.                      TS90103
       RCHB    WRA                                                       TS90104
       TRA     AD                                                        TS90105
 BC    TIX     BC+2,2,1                                                  TS90106
       HTR     AE2                   IGNORE RTT                          TS90107
       BSRA    6                                                         TS90108
       XEC     RT,1                  READ INTO .B.                       TS90109
       RCHA    XRB                                                       TS90110
       TRA     AE                                                        TS90111
 WCC   TIX     WCC+2,2,1                                                 TS90112
       HTR     AF2                   IGNORE RTT                          TS90113
       BSRB    6                                                         TS90114
       XEC     WT,1                  WRITE FROM .B.                      TS90115
       RCHB    WRB                                                       TS90116
       TRA     AF                                                        TS90117
 RCD   IOCD    DATA,0,2              READ CARD, CONTROL                  TS90118
 AA    IOCPN   0,0,-1                                                    TS90119
       TCH     *-1                                                       TS90120
 BB    IOCPN   0,0,-1                SKIP A FILE                         TS90121
       TCH     *-1                                                       TS90122
 DATA  BSS     2                     9L AND 9R                           TS90123
 XRA   IORT    A,0,-1                                                    TS90124
 XRB   IORT    B,0,-1                                                    TS90125
 WRA   IOCT    A,0,**                                                    TS90126
 WRB   IOCT    B,0,**                                                    TS90127
 RT    RTDA    6                                                         TS90128
       RTBA    6                                                         TS90129
 WT    WTDB    6                                                         TS90130
       WTBB    6                                                         TS90131
 WORD                                                                    TS90132
 A     BSS     10000                 .A. BUFFER                          TS90133
 B     BSS     10000                 .B. BUFFER                          TS90134
       END     START                                                     TS90135
